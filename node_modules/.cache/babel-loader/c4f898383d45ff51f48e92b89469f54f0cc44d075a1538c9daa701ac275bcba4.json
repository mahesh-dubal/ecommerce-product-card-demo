{"ast":null,"code":"import React,{useState}from'react';import{useDispatch}from'react-redux';import{addCart}from'../redux/action';import toast from'react-hot-toast';import{Link}from'react-router-dom';import'./ProductCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const[selectedVariant,setSelectedVariant]=useState('default');const[isLoading,setIsLoading]=useState(false);const dispatch=useDispatch();// Mock variant options - in a real app, this would come from the product data\nconst variantOptions=[{value:'default',label:'Default'},{value:'small',label:'Small'},{value:'medium',label:'Medium'},{value:'large',label:'Large'},{value:'xl',label:'XL'}];// Mock stock status - in a real app, this would come from the product data\nconst isOutOfStock=product.stock===0||product.stock===undefined;const handleAddToCart=async()=>{if(isOutOfStock){toast.error('Product is out of stock!');return;}setIsLoading(true);// Simulate API call delay\nawait new Promise(resolve=>setTimeout(resolve,500));const productWithVariant={...product,selectedVariant,quantity:1};dispatch(addCart(productWithVariant));toast.success(`Added ${product.title} to cart!`);setIsLoading(false);};const handleVariantChange=e=>{setSelectedVariant(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title,className:\"product-card__image\",loading:\"lazy\"}),isOutOfStock&&/*#__PURE__*/_jsx(\"div\",{className:\"product-card__out-of-stock\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Out of Stock\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-card__overlay\",children:/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,className:\"product-card__view-details\",children:\"View Details\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-card__title\",children:product.title.length>50?`${product.title.substring(0,50)}...`:product.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__price\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"product-card__price-amount\",children:[\"$\",product.price]}),product.originalPrice&&product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"product-card__price-original\",children:[\"$\",product.originalPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__variant\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`variant-${product.id}`,className:\"product-card__variant-label\",children:\"Size:\"}),/*#__PURE__*/_jsx(\"select\",{id:`variant-${product.id}`,value:selectedVariant,onChange:handleVariantChange,className:\"product-card__variant-select\",disabled:isOutOfStock,children:variantOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-card__actions\",children:isOutOfStock?/*#__PURE__*/_jsx(\"button\",{className:\"product-card__button product-card__button--disabled\",disabled:true,children:\"Out of Stock\"}):/*#__PURE__*/_jsx(\"button\",{className:\"product-card__button product-card__button--primary\",onClick:handleAddToCart,disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(\"span\",{className:\"product-card__loading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"product-card__spinner\"}),\"Adding...\"]}):'Add to Cart'})})]})]});};export default ProductCard;","map":{"version":3,"names":["React","useState","useDispatch","addCart","toast","Link","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","selectedVariant","setSelectedVariant","isLoading","setIsLoading","dispatch","variantOptions","value","label","isOutOfStock","stock","undefined","handleAddToCart","error","Promise","resolve","setTimeout","productWithVariant","quantity","success","title","handleVariantChange","e","target","className","children","src","image","alt","loading","to","id","length","substring","price","originalPrice","htmlFor","onChange","disabled","map","option","onClick"],"sources":["/home/mahesh/frontendtest/ecommerce/src/components/ProductCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addCart } from '../redux/action';\nimport toast from 'react-hot-toast';\nimport { Link } from 'react-router-dom';\nimport './ProductCard.css';\n\nconst ProductCard = ({ product }) => {\n  const [selectedVariant, setSelectedVariant] = useState('default');\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  // Mock variant options - in a real app, this would come from the product data\n  const variantOptions = [\n    { value: 'default', label: 'Default' },\n    { value: 'small', label: 'Small' },\n    { value: 'medium', label: 'Medium' },\n    { value: 'large', label: 'Large' },\n    { value: 'xl', label: 'XL' }\n  ];\n\n  // Mock stock status - in a real app, this would come from the product data\n  const isOutOfStock = product.stock === 0 || product.stock === undefined;\n\n  const handleAddToCart = async () => {\n    if (isOutOfStock) {\n      toast.error('Product is out of stock!');\n      return;\n    }\n\n    setIsLoading(true);\n    \n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 500));\n    \n    const productWithVariant = {\n      ...product,\n      selectedVariant,\n      quantity: 1\n    };\n    \n    dispatch(addCart(productWithVariant));\n    toast.success(`Added ${product.title} to cart!`);\n    setIsLoading(false);\n  };\n\n  const handleVariantChange = (e) => {\n    setSelectedVariant(e.target.value);\n  };\n\n  return (\n    <div className=\"product-card\">\n      <div className=\"product-card__image-container\">\n        <img \n          src={product.image} \n          alt={product.title}\n          className=\"product-card__image\"\n          loading=\"lazy\"\n        />\n        {isOutOfStock && (\n          <div className=\"product-card__out-of-stock\">\n            <span>Out of Stock</span>\n          </div>\n        )}\n        <div className=\"product-card__overlay\">\n          <Link \n            to={`/product/${product.id}`}\n            className=\"product-card__view-details\"\n          >\n            View Details\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"product-card__content\">\n        <h3 className=\"product-card__title\">\n          {product.title.length > 50 \n            ? `${product.title.substring(0, 50)}...` \n            : product.title\n          }\n        </h3>\n        \n        <div className=\"product-card__price\">\n          <span className=\"product-card__price-amount\">\n            ${product.price}\n          </span>\n          {product.originalPrice && product.originalPrice > product.price && (\n            <span className=\"product-card__price-original\">\n              ${product.originalPrice}\n            </span>\n          )}\n        </div>\n\n        <div className=\"product-card__variant\">\n          <label htmlFor={`variant-${product.id}`} className=\"product-card__variant-label\">\n            Size:\n          </label>\n          <select\n            id={`variant-${product.id}`}\n            value={selectedVariant}\n            onChange={handleVariantChange}\n            className=\"product-card__variant-select\"\n            disabled={isOutOfStock}\n          >\n            {variantOptions.map(option => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"product-card__actions\">\n          {isOutOfStock ? (\n            <button \n              className=\"product-card__button product-card__button--disabled\"\n              disabled\n            >\n              Out of Stock\n            </button>\n          ) : (\n            <button \n              className=\"product-card__button product-card__button--primary\"\n              onClick={handleAddToCart}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <span className=\"product-card__loading\">\n                  <span className=\"product-card__spinner\"></span>\n                  Adding...\n                </span>\n              ) : (\n                'Add to Cart'\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,SAAS,CAAC,CACjE,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAgB,cAAc,CAAG,CACrB,CAAEC,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAC,CACtC,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAClC,CAAED,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAS,CAAC,CACpC,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAClC,CAAED,KAAK,CAAE,IAAI,CAAEC,KAAK,CAAE,IAAK,CAAC,CAC7B,CAED;AACA,KAAM,CAAAC,YAAY,CAAGT,OAAO,CAACU,KAAK,GAAK,CAAC,EAAIV,OAAO,CAACU,KAAK,GAAKC,SAAS,CAEvE,KAAM,CAAAC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAIH,YAAY,CAAE,CAChBjB,KAAK,CAACqB,KAAK,CAAC,0BAA0B,CAAC,CACvC,OACF,CAEAT,YAAY,CAAC,IAAI,CAAC,CAElB;AACA,KAAM,IAAI,CAAAU,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CAEtD,KAAM,CAAAE,kBAAkB,CAAG,CACzB,GAAGjB,OAAO,CACVC,eAAe,CACfiB,QAAQ,CAAE,CACZ,CAAC,CAEDb,QAAQ,CAACd,OAAO,CAAC0B,kBAAkB,CAAC,CAAC,CACrCzB,KAAK,CAAC2B,OAAO,CAAC,SAASnB,OAAO,CAACoB,KAAK,WAAW,CAAC,CAChDhB,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAiB,mBAAmB,CAAIC,CAAC,EAAK,CACjCpB,kBAAkB,CAACoB,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAC,CACpC,CAAC,CAED,mBACEV,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,KAAA,QAAK2B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C9B,IAAA,QACE+B,GAAG,CAAE1B,OAAO,CAAC2B,KAAM,CACnBC,GAAG,CAAE5B,OAAO,CAACoB,KAAM,CACnBI,SAAS,CAAC,qBAAqB,CAC/BK,OAAO,CAAC,MAAM,CACf,CAAC,CACDpB,YAAY,eACXd,IAAA,QAAK6B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC9B,IAAA,SAAA8B,QAAA,CAAM,cAAY,CAAM,CAAC,CACtB,CACN,cACD9B,IAAA,QAAK6B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC9B,IAAA,CAACF,IAAI,EACHqC,EAAE,CAAE,YAAY9B,OAAO,CAAC+B,EAAE,EAAG,CAC7BP,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACvC,cAED,CAAM,CAAC,CACJ,CAAC,EACH,CAAC,cAEN5B,KAAA,QAAK2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC9B,IAAA,OAAI6B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAChCzB,OAAO,CAACoB,KAAK,CAACY,MAAM,CAAG,EAAE,CACtB,GAAGhC,OAAO,CAACoB,KAAK,CAACa,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,KAAK,CACtCjC,OAAO,CAACoB,KAAK,CAEf,CAAC,cAELvB,KAAA,QAAK2B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC5B,KAAA,SAAM2B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,GAC1C,CAACzB,OAAO,CAACkC,KAAK,EACX,CAAC,CACNlC,OAAO,CAACmC,aAAa,EAAInC,OAAO,CAACmC,aAAa,CAAGnC,OAAO,CAACkC,KAAK,eAC7DrC,KAAA,SAAM2B,SAAS,CAAC,8BAA8B,CAAAC,QAAA,EAAC,GAC5C,CAACzB,OAAO,CAACmC,aAAa,EACnB,CACP,EACE,CAAC,cAENtC,KAAA,QAAK2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC9B,IAAA,UAAOyC,OAAO,CAAE,WAAWpC,OAAO,CAAC+B,EAAE,EAAG,CAACP,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,OAEjF,CAAO,CAAC,cACR9B,IAAA,WACEoC,EAAE,CAAE,WAAW/B,OAAO,CAAC+B,EAAE,EAAG,CAC5BxB,KAAK,CAAEN,eAAgB,CACvBoC,QAAQ,CAAEhB,mBAAoB,CAC9BG,SAAS,CAAC,8BAA8B,CACxCc,QAAQ,CAAE7B,YAAa,CAAAgB,QAAA,CAEtBnB,cAAc,CAACiC,GAAG,CAACC,MAAM,eACxB7C,IAAA,WAA2BY,KAAK,CAAEiC,MAAM,CAACjC,KAAM,CAAAkB,QAAA,CAC5Ce,MAAM,CAAChC,KAAK,EADFgC,MAAM,CAACjC,KAEZ,CACT,CAAC,CACI,CAAC,EACN,CAAC,cAENZ,IAAA,QAAK6B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnChB,YAAY,cACXd,IAAA,WACE6B,SAAS,CAAC,qDAAqD,CAC/Dc,QAAQ,MAAAb,QAAA,CACT,cAED,CAAQ,CAAC,cAET9B,IAAA,WACE6B,SAAS,CAAC,oDAAoD,CAC9DiB,OAAO,CAAE7B,eAAgB,CACzB0B,QAAQ,CAAEnC,SAAU,CAAAsB,QAAA,CAEnBtB,SAAS,cACRN,KAAA,SAAM2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACrC9B,IAAA,SAAM6B,SAAS,CAAC,uBAAuB,CAAO,CAAC,YAEjD,EAAM,CAAC,CAEP,aACD,CACK,CACT,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}