{"ast":null,"code":"// Retrieve initial state from localStorage if available\nconst getInitialCart=()=>{const storedCart=localStorage.getItem(\"cart\");return storedCart?JSON.parse(storedCart):[];};const handleCart=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialCart();let action=arguments.length>1?arguments[1]:undefined;const product=action.payload;let updatedCart;switch(action.type){case\"ADDITEM\":// Check if product already in cart\nconst exist=state.find(x=>x.id===product.id);if(exist){// Increase the quantity\nupdatedCart=state.map(x=>x.id===product.id?{...x,qty:x.qty+1}:x);}else{updatedCart=[...state,{...product,qty:1}];}// Update localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;case\"DELITEM\":const exist2=state.find(x=>x.id===product.id);if(exist2.qty===1){updatedCart=state.filter(x=>x.id!==exist2.id);}else{updatedCart=state.map(x=>x.id===product.id?{...x,qty:x.qty-1}:x);}// Update localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;default:return state;}};export default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","arguments","length","undefined","action","product","payload","updatedCart","type","exist","find","x","id","map","qty","setItem","stringify","exist2","filter"],"sources":["/home/mahesh/frontendtest/ecommerce/src/redux/reducer/handleCart.js"],"sourcesContent":["// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\n\nconst handleCart = (state = getInitialCart(), action) => {\n  const product = action.payload;\n  let updatedCart;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      // Check if product already in cart\n      const exist = state.find((x) => x.id === product.id);\n      if (exist) {\n        // Increase the quantity\n        updatedCart = state.map((x) =>\n          x.id === product.id ? { ...x, qty: x.qty + 1 } : x\n        );\n      } else {\n        updatedCart = [...state, { ...product, qty: 1 }];\n      }\n      // Update localStorage\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    case \"DELITEM\":\n      const exist2 = state.find((x) => x.id === product.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter((x) => x.id !== exist2.id);\n      } else {\n        updatedCart = state.map((x) =>\n          x.id === product.id ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      // Update localStorage\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    default:\n      return state;\n  }\n};\n\nexport default handleCart;\n"],"mappings":"AAAA;AACA,KAAM,CAAAA,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,EAAE,CACjD,CAAC,CAED,KAAM,CAAAK,UAAU,CAAG,QAAAA,CAAA,CAAsC,IAArC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGR,cAAc,CAAC,CAAC,IAAE,CAAAW,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAClD,KAAM,CAAAE,OAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,GAAI,CAAAC,WAAW,CAEf,OAAQH,MAAM,CAACI,IAAI,EACjB,IAAK,SAAS,CACZ;AACA,KAAM,CAAAC,KAAK,CAAGT,KAAK,CAACU,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAC,CACpD,GAAIH,KAAK,CAAE,CACT;AACAF,WAAW,CAAGP,KAAK,CAACa,GAAG,CAAEF,CAAC,EACxBA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAG,CAAE,GAAGD,CAAC,CAAEG,GAAG,CAAEH,CAAC,CAACG,GAAG,CAAG,CAAE,CAAC,CAAGH,CACnD,CAAC,CACH,CAAC,IAAM,CACLJ,WAAW,CAAG,CAAC,GAAGP,KAAK,CAAE,CAAE,GAAGK,OAAO,CAAES,GAAG,CAAE,CAAE,CAAC,CAAC,CAClD,CACA;AACAnB,YAAY,CAACoB,OAAO,CAAC,MAAM,CAAElB,IAAI,CAACmB,SAAS,CAACT,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,IAAK,SAAS,CACZ,KAAM,CAAAU,MAAM,CAAGjB,KAAK,CAACU,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAC,CACrD,GAAIK,MAAM,CAACH,GAAG,GAAK,CAAC,CAAE,CACpBP,WAAW,CAAGP,KAAK,CAACkB,MAAM,CAAEP,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKK,MAAM,CAACL,EAAE,CAAC,CACvD,CAAC,IAAM,CACLL,WAAW,CAAGP,KAAK,CAACa,GAAG,CAAEF,CAAC,EACxBA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAG,CAAE,GAAGD,CAAC,CAAEG,GAAG,CAAEH,CAAC,CAACG,GAAG,CAAG,CAAE,CAAC,CAAGH,CACnD,CAAC,CACH,CACA;AACAhB,YAAY,CAACoB,OAAO,CAAC,MAAM,CAAElB,IAAI,CAACmB,SAAS,CAACT,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,QACE,MAAO,CAAAP,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}